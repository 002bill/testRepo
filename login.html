<!DOCTYPE html>
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- start: HEAD -->
<head>
<title>농업정책보험금융원 정책자금관리시스템</title>
<!-- start: META -->
<meta charset="utf-8" />
<!--[if IE]><meta http-equiv='X-UA-Compatible' content="IE=edge,IE=9,IE=8,chrome=1" /><![endif]-->
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta content="" name="description" />
<meta content="" name="author" />
<!-- end: META --> 
<!-- start: MAIN CSS -->
<link rel="stylesheet" href="assets/plugins/bootstrap/css/bootstrap.css">
<link rel="stylesheet" href="assets/plugins/font-awesome/css/font-awesome.css">
<link rel="stylesheet" href="assets/plugins/iCheck/skins/all.css">
<link rel="stylesheet" href="assets/plugins/perfect-scrollbar/src/perfect-scrollbar.css">
<link rel="stylesheet" href="assets/plugins/animate.css/animate.min.css">
<!-- end: MAIN CSS --> 
<!-- start: CSS REQUIRED FOR SUBVIEW CONTENTS -->
<link rel="stylesheet" href="assets/plugins/owl-carousel/owl-carousel/owl.carousel.css">
<link rel="stylesheet" href="assets/plugins/owl-carousel/owl-carousel/owl.theme.css">
<link rel="stylesheet" href="assets/plugins/owl-carousel/owl-carousel/owl.transitions.css">
<link rel="stylesheet" href="assets/plugins/summernote/dist/summernote.css">
<link rel="stylesheet" href="assets/plugins/fullcalendar/fullcalendar/fullcalendar.css">
<link rel="stylesheet" href="assets/plugins/toastr/toastr.min.css">
<link rel="stylesheet" href="assets/plugins/bootstrap-select/bootstrap-select.css">
<link rel="stylesheet" href="assets/plugins/bootstrap-switch/dist/css/bootstrap3/bootstrap-switch.min.css">
<link rel="stylesheet" href="assets/plugins/DataTables/media/css/DT_bootstrap.css">
<link rel="stylesheet" href="assets/plugins/bootstrap-fileupload/bootstrap-fileupload.min.css">
<link rel="stylesheet" href="assets/plugins/bootstrap-daterangepicker/daterangepicker-bs3.css">
<!-- datepicker -->
<link rel="stylesheet" type="text/css"	href="assets/plugins/pickers/form-flat-pickr.css" />
<link rel="stylesheet" type="text/css"	href="assets/plugins/pickers/flatpickr/monthPlugin.css" />
<link rel="stylesheet" type="text/css" href="assets/plugins/pickers/form-pickadate.css" />
<link rel="stylesheet" type="text/css"	href="assets/plugins/pickers/pickadate/pickadate.css" />
<link rel="stylesheet" type="text/css"	href="assets/plugins/pickers/flatpickr/flatpickr.min.css" />
<!-- end: CSS REQUIRED FOR THIS SUBVIEW CONTENTS--> 
<!-- start: CSS REQUIRED FOR THIS PAGE ONLY --> 
<!--<link rel="stylesheet" href="assets/plugins/bootstrap-social-buttons/bootstrap-social.css">--> 
<!-- end: CSS REQUIRED FOR THIS PAGE ONLY --> 
<!-- start: CORE CSS -->
<link rel="stylesheet" href="assets/css/styles.css">
<link rel="stylesheet" href="assets/css/font.css">
<link rel="stylesheet" href="assets/css/styles-responsive.css">
<link rel="stylesheet" href="assets/css/plugins.css">
<link rel="stylesheet" href="assets/css/themes/theme-style5.css" type="text/css" id="skin_color">
<link rel="stylesheet" href="assets/css/print.css" type="text/css" media="print"/>
<!-- end: CORE CSS -->
<link rel="shortcut icon" href="kr.ico" />
</head>
<!-- end: HEAD -->
<!-- start: BODY -->
<body> 
<!-- start: SLIDING BAR (SB) -->
<div class="login_wrap"> 
    <div id="login-content">
	    <div class="login_div">
			<p class="login_logo"></p>
			<h2 id="login-header-title">MEMBER LOGIN</h2>
			<input type="text" class="login_username" name="loginId" id="username" placeholder="아이디" tabindex="1">
			<br/>
			<input type="password" class="login_password" name="passCd" id="password" placeholder="비밀번호" tabindex="2">
			<br/>
			<div class="login_txtlink"> 
				<span class="float-left" >
					<label class="checkbox-inline pt-1 tooltips" data-toggle="tooltip" data-placement="top"  title=""> &nbsp;아이디 저장
						 <input type="checkbox" class="square-teal" value="" />
					</label>                            
				</span> 
				<span class="srch_id"><a href="#" data-toggle="modal" data-target="#idModal">아이디 </a>/<a href="#" data-toggle="modal" data-target="#pwModal">비밀번호 찾기 </a></span>
            </div>
			<a href="index.html" class="memlogin_btn clearfix" >
                <span><img src="assets/images/icon_login.svg" width="30px"></span>
            	<span>로그인</span></a> 
            <a href="#">
                <span class="app_subscript">가입신청</span>
            </a> 
        </div>
    </div>     
</div>

<!-- 결성기간 시작 -->
<div class="modal fade" id="registPOP" aria-hidden="true" style="display: none; z-index: 1060;" data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <header class="card-header">
                <h2 class="card-title">자료등록
                    <div class="card-actions">
                        <a href="#" class="card-action card-action-dismiss  modal-dismiss" data-dismiss="modal"></a>                        
                    </div>
                </h2>
            </header>
            <div class="card-body">                
                <div class="p-5">
                    <div class="form-group row">
                        <label class="col-sm-2 control-label text-sm-right mt-2">작성아이디</label>
                        <div class="col-sm-10">
                            <input class="form-control" type="text" id="" placeholder="" />
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-2 control-label text-sm-right mt-2">등록일시</label>
                        <div class="col-sm-4">                              
                            <input class="form-control flatpickr flatpickr-basic" type="text" id="" placeholder="YYYY-MM-DD"/>                             
                        </div>
                        <label class="col-sm-2 control-label text-sm-right mt-2">등록IP</label>
                        <div class="col-sm-4">                             
                            <input class="form-control" type="text" id="" placeholder="000.000.000.000" />                             
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-sm-2 control-label text-sm-right mt-2">파일첨부</label>
                        <div class="col-sm-10">
							<form action="/upload" class="dropzone dz-square" id="dropzone-example"></form>                            
                        </div>                        
                    </div>
                    <div class="row">
                        <div class="col-12 mb-4 text-center">
                            <button type="button" class="btn mt-2 mr-1 btn-primary btn-py-2 px-4" data-dismiss="modal">적용</button>
                            <button type="reset" class="btn mt-2 btn-outline-secondary btn-py-2 px-4 modal-dismiss" data-dismiss="modal">닫기</button>
                        </div>
                    </div>                
                </div>                
            </div>
        </div>
    </div>
</div>
<!-- 결성기간 끝 -->
<!-- start: MAIN JAVASCRIPTS --> 
<!--[if lt IE 9]>
		<script src="assets/plugins/respond.min.js"></script>
		<script src="assets/plugins/excanvas.min.js"></script>
		<script type="text/javascript" src="assets/plugins/jQuery/jquery-1.11.1.min.js"></script>
		<![endif]--> 
<!--[if gte IE 9]><!--> 
<script src="assets/plugins/jQuery/jquery.js"></script> 
<!--<![endif]--> 
<script src="assets/plugins/jquery-ui/jquery-ui.js"></script> 
<script src="assets/plugins/bootstrap/js/bootstrap.min.js"></script> 
<script src="assets/plugins/blockUI/jquery.blockUI.js"></script> 
<script src="assets/plugins/iCheck/jquery.icheck.min.js"></script> 
<script src="assets/plugins/moment/min/moment.min.js"></script> 
<script src="assets/plugins/perfect-scrollbar/src/jquery.mousewheel.js"></script> 
<script src="assets/plugins/perfect-scrollbar/src/perfect-scrollbar.js"></script> 
<script src="assets/plugins/bootbox/bootbox.min.js"></script> 
<script src="assets/plugins/jquery.scrollTo/jquery.scrollTo.min.js"></script> 
<script src="assets/plugins/ScrollToFixed/jquery-scrolltofixed-min.js"></script> 
<script src="assets/plugins/jquery.appear/jquery.appear.js"></script> 
<script src="assets/plugins/jquery-cookie/jquery.cookie.js"></script> 
<script src="assets/plugins/velocity/jquery.velocity.min.js"></script> 
<script src="assets/plugins/TouchSwipe/jquery.touchSwipe.min.js"></script> 
<!-- end: MAIN JAVASCRIPTS --> 
<!-- start: JAVASCRIPTS REQUIRED FOR SUBVIEW CONTENTS --> 
<script src="assets/plugins/owl-carousel/owl-carousel/owl.carousel.js"></script> 
<script src="assets/plugins/jquery-mockjax/jquery.mockjax.js"></script> 
<script src="assets/plugins/toastr/toastr.js"></script> 
<script src="assets/plugins/bootstrap-modal/js/bootstrap-modal.js"></script> 
<script src="assets/plugins/bootstrap-modal/js/bootstrap-modalmanager.js"></script> 
<script src="assets/plugins/fullcalendar/fullcalendar/fullcalendar.min.js"></script> 
<script src="assets/plugins/bootstrap-switch/dist/js/bootstrap-switch.min.js"></script> 
<script src="assets/plugins/bootstrap-select/bootstrap-select.js"></script> 
<script src="assets/plugins/jquery-validation/dist/jquery.validate.min.js"></script> 
<script src="assets/plugins/bootstrap-fileupload/bootstrap-fileupload.min.js"></script> 
<script src="assets/plugins/DataTables/media/js/jquery.dataTables.min.js"></script> 
<script src="assets/plugins/truncate/jquery.truncate.js"></script> 
<script src="assets/plugins/summernote/dist/summernote.min.js"></script> 
<script src="assets/plugins/bootstrap-daterangepicker/daterangepicker.js"></script> 
<!-- date/time/clock-pikcer  -->
<script src="assets/plugins/pickers/flatpickr/flatpickr.js"></script>
<script src="assets/plugins/pickers/flatpickr/monthPlugin.js"></script>
<script src="assets/plugins/pickers/flatpickr/ko.js"></script>
<script>
//모달 드래그 가능
	$('.modal-dialog').draggable({
        "handle":".card-header"
        , containment: [-920, 0, 920, 3000]
// 	[ x1, y1, x2, y2 ].
//         , containment: ".modal-open"//"document"//$('#MOVESTEP_POP')//  '.content-body'
//         , scroll:true
//         , opacity: 0.7 //드레그시 투명값
      });

//레이어 팝업에 스크롤 잡는 기능 
$(document).ready(function() {
      $(document).on({
         'show.bs.modal': function() {
                                var zIndex = 10400 + (10 * $('.modal:visible').length);
                                $(this).css('z-index', zIndex);
                                setTimeout(function() {
                                    $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');
                                }, 0);
                            }
      ,'hidden.bs.modal': function() {
          if ($('.modal:visible').length > 0) {
            // restore the modal-open class to the body element, so that scrolling works
            // properly after de-stacking a modal.
            setTimeout(function() {
              $(document.body).addClass('modal-open');
            }, 0);
          } 
        }
      }, '.modal');

    let formatNumber = $('[data-gbn="number"]');
    $.each(formatNumber, function(idx, item){
        $("[data-id='"+$(item).attr('data-id')+"']").keyup(function(event){
            event.target.value = StringUtil.addComma(event.target.value);
        });
    })

    let formatDecimal = $('[data-gbn="decimal"]');
    $.each(formatDecimal, function(idx, item){
// 				이방법이 최선인지는 모르겠음
        $("[data-id='"+$(item).attr('data-id')+"']").keyup(function(event){
            let temp = StringUtil.addCommaDecimal(event.target.value);
            event.target.value = temp;
        });
        // 아래 방법들은 다 작동을 안함.ㅋ
// 				eval(item).on('onkeyup',function(event){
// 					console.log(StringUtil.addComma(event.target.value));
// 					event.target.value = StringUtil.addComma(event.target.value);
// 				});
// 				$(item).on('onkeyup',function(event){
// 					console.log(StringUtil.addComma(event.target.value));
// 					event.target.value = StringUtil.addComma(event.target.value);
// 				});
// 				$(item).addEventListener('onkeyup',function(event){
// 					console.log(StringUtil.addComma(event.target.value));
// 					event.target.value = StringUtil.addComma(event.target.value);
// 				});
    })

    //연락처입력 format
    $(".phonFormatEvt").on("blur", function() {
        let number = $(this).val();
        $(this).val(StringUtil.phoneFomatter(number));
    });

// 			'use strict';
// 			Spinner();
// 			Spinner.show();
});//ready
const yearOpt = {
        plugins: [
            new monthSelectPlugin({
              shorthand: true, //defaults to false
              dateFormat: "Y",
              altFormat: "Y",
              theme: "light", // defaults to "light"		              
            })
        ]
        ,"allowInput":true
        ,locale : "ko"
};
const monthOpt = {
        plugins: [
            new monthSelectPlugin({
              shorthand: true, //defaults to false
              dateFormat: "Y-m", //defaults to "F Y"
              altFormat: "Y F ", //defaults to "F Y"
              theme: "light", // defaults to "light"		              
            })
        ]
        ,"allowInput":true
        ,locale : "ko"
};
//기본 달력...많이 보는 달력 셋팅 
const basicOpt = {
        "dateFormat":"Y-m-d",
        locale: "ko",
        "allowInput":true,
        "enableTime":false,
        "onValueUpdate" : function(selectedDates, dateStr, instance){
            if(instance.element.id.includes("MAIN_SEARCH")){
                let isNopicker = $(instance.element).hasClass('nopickerTag');
                if(isNopicker){$(instance.element).blur(); return false;}
                fnKIJUNDTBasic(dateStr, instance.element.id);
            }//if
            $(instance.element).blur();
            instance.close();
        }
};

const dateTimeOpt = {
        "dateFormat":"Y-m-d", 
        "enableTime":true, 
        "allowInput":true
};

(function (window, document, $) {
  'use strict';

  /*******  Flatpickr  *****/
  var basicPickr = $('.flatpickr-basic'),
    monthPickr = $('.flatpickr-month'),
    dateTimePickr = $('.flatpickr-date-time'),
    yearPickr = $('.flatpickr-year')

  if (basicPickr.length) {
    basicPickr.flatpickr(basicOpt);
  }
  if (monthPickr.length) {
      monthPickr.flatpickr(monthOpt);
  }
  if (yearPickr.length) {
      yearPickr.flatpickr(yearOpt);
  }
  // Date & TIme
  if (dateTimePickr.length) {
    dateTimePickr.flatpickr(dateTimeOpt);
  }

  basicPickr.on('blur',function(e){
      let tid = $(e.target).attr('id');
      let isNopicker = $(e.target).hasClass('nopickerTag');

      let val = $(this).val().replaceAll(/[^0-9]/g,'');
      if(val.length == 8){
          val = StringUtil.toDate(val,'-');
      }else{
          val = '';
      }
      $(this).val(val);

      if(isNopicker){return false;}
      if(StringUtil.isNull(tid)){return false;}
      if(tid.includes("MAIN_SEARCH")){
          if(StringUtil.isNull(val)){return false;}
          fnKIJUNDTBasic(val, tid);
      }//if
  });

  basicPickr.on('keydown',function(e){
      if(e.keyCode == '13'){
          let val = $(this).val().replaceAll(/[^0-9]/g,'');
          if(val.length == 8){
              val = StringUtil.toDate(val,'-');
          }else{
              val = '';
          }
          $(this).val(val);
      }
  });
})(window, document, jQuery);

function refreshFlatpicker(parentId){
    if(parentId === undefined) parentId = '';
    $(parentId + ' .flatpickr-basic').flatpickr(basicOpt);
    $(parentId + ' .flatpickr-month').flatpickr(monthOpt);
    $(parentId + ' .flatpickr-year').flatpickr(yearOpt);
    $(parentId + ' .flatpickr-date-time').flatpickr(dateTimeOpt);
}
//feather 아이콘 불러오는 함수 지우지마세요 
feather.replace();

</script>
<!--<script src="assets/js/subview.js"></script>
		<script src="assets/js/subview-examples.js"></script>--> 
<!-- end: JAVASCRIPTS REQUIRED FOR SUBVIEW CONTENTS --> 
<!-- start: JAVASCRIPTS REQUIRED FOR THIS PAGE ONLY --> 
<!-- end: JAVASCRIPTS REQUIRED FOR THIS PAGE ONLY --> 
<!-- start: CORE JAVASCRIPTS  --> 
<script src="assets/js/main.js"></script> 
<!-- end: CORE JAVASCRIPTS  --> 
<script>
    jQuery(document).ready(function() {
        Main.init();				
    });
    	//조직도 검색 창 호출
	function callREGITPOP(){
		$('#registPOP').modal('show');
	}
</script>
</body>
<!-- end: BODY -->
</html>